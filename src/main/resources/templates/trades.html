<h1>Trades</h1>
<p>
	<i>Resource</i> for <span class='incode'>Trades</span>. <span class='incode'>Trades</span> are the the central components of the system.
	The <a href='users.html'>User</a> who creates a <span class='incode'>Trade</span> becomes the <i>organizer</i>
	while other <a href='users.html'>Users</a> can subscribe to the <span class='incode'>Trade</span> and become <i>members</i>.
	<i>Members</i> submit their <a href='items.html'>Items</a> through a <a href='trade-memberships.html'>TradeMembership</a>.
	Later the <i>organizer</i> closes the <span class='incode'>Trade</span> and the system generates the results of the <span class='incode'>Trade</span>.
</p>

<h3>Operations</h3>
<ul>
	<li><span class='incode'>POST rest/v1/trades/</span></li>
	<li><span class='incode'>PUT rest/v1/trades/{tradeId}</span></li>
	<li><span class='incode'>GET rest/v1/trades/{tradeId}</span></li>
	<li><span class='incode'>GET rest/v1/trades?{queryParameters}</span></li>
	<li><span class='incode'>GET rest/v1/trades/</span></li>
	<li><span class='incode'>DELETE rest/v1/trades/{tradeId}</span></li>
</ul>

<h3>Authorization</h3>
<ul>
	<li>All operations can be performed by clients with a valid <span class='incode'>Authorization</span> header</li>
	<li><span class='incode'>GET rest/v1/trades?{queryParameters}</span> can be performed by any client</li>
	<li><span class='incode'>GET rest/v1/trades/</span> can be performed by any client</li>	
</ul>

<h3>Resource</h3>
<table>
	<tr>
		<th>Property Name</th>
		<th>Format</th>
		<th>Description</th>
	</tr>
	<tr>
		<td>description</td>
		<td>read-write, 3 min length, 1000 max length</td>
		<td>The description of this trade</td>
	</tr>
	<tr>
		<td>name</td>
		<td>read-write, mandatory, unique, 3 min length, 150 max length</td>
		<td>The name of this trade</td>
	</tr>
	<tr>
		<td>state</td>
		<td>read-write, enumeration (see State Values table below)</td>
		<td>The state of this trade, states drive how to interact with the <span class='incode'>Trade</span></td>
	</tr>
	<tr>
		<td>tradeId</td>
		<td>ready-only, auto-generated</td>
		<td>Id associated with this resource</td>
	</tr>
</table>

<h4>State Values</h4>
<table>
	<tr>
		<th>Value</th>
		<th>Description</th>
	</tr>
	<tr>
		<td>SUBMITTING_ITEMS</td>
		<td>Default state when a <span class='incode'>Trade</span> is created. Indicates that <a href='users.html'>Users</a> can join the <span class='incode'>Trade</span> and submit <a href='items.html'>Items</a></td>
	</tr>
	<tr>
		<td>MATCHING_ITEMS</td>
		<td><a href='users.html'>Users</a> can match <a href='items.html'>Items</a> in the trade. Other <a href='users.html'>users</a> cannot join the trade nor submit <a href='items.html'>items</a></td>
	</tr>
	<tr>
		<td>ITEMS_MATCHED</td>
		<td><a href='items.html'>Items</a> are matched and results (TODO: add link to trade-results.html) can be generated.</td>
	</tr>
	<tr>
		<td>GENERATE_RESULTS</td>
		<td>Request the system to generate results (TODO: add link to trade-results.html) for the matched <a href='items.html'>Items</a>.</td>
	</tr>
	<tr>
		<td>RESULTS_GENERATED</td>
		<td>Results (TODO: add link to trade-results.html) are a available.</td>
	</tr>
	<tr>
		<td>CLOSED</td>
		<td>The <span class='incode'>Trade</span> is in ready-only mode</td>
	</tr>
</table>

<h3>Query Parameters</h3>
${PAGINATION_TABLE}

<h3>Rules</h3>
<ul>
	<li>When a new <span class='incode'>Trade</span> is created, the <a href='users.html'>User</a> associated to the <span class='incode'>Authorization</span> header becomes the <span class='incode'>Trade</span> <i>organizer</i>.
	Hence the system creates a <span class='incode'><a href='trade-memberships.html'>TradeMembership.type=OWNER</a></span></li>
	<li>Only the trade <i>organizer</i> can <span class='incode'>DELETE</span> a <span class='incode'>Trade</span></li>
	<li>Only the trade <i>organizer</i> can <span class='incode'>PUT</span> a <span class='incode'>Trade</span></li>
</ul>

<h3>Examples</h3>
${TRADES_POST_PLACEHOLDER}

${TRADES_PUT_PLACEHOLDER}

${TRADES_GET_PLACEHOLDER}

${TRADES_SEARCH_PLACEHOLDER}

${TRADES_GET_ALL_PLACEHOLDER}

${TRADES_DELETE_PLACEHOLDER}
