<html><head><title>REST Doc Maker</title></head>
<link rel='stylesheet' href='css/rest-api-doc.css'><script src='js/rest-api-doc.js'></script><body>
<h1>Trades</h1>
<p>
	<span class="incode">Trades</span> are the the central resources of the system.
	The <a href='users.html'>User</a> who creates a <span class="incode">Trade</span> becomes the <i>organizer</i>
	while other <a href='users.html'>Users</a> can subscribe to the <span class="incode">Trade</span> becaming <i>members</i>.
	<i>Members</i> submit their <a href='articles.html'>Articles</a> through a <a href='memberships.html'>Membership</a>.
	Later the <i>organizer</i> closes the <span class="incode">Trade</span> and the system generates the <a href='trade-results.html'>TradeResults</a>.
</p>

<h3>Operations</h3>
<ul>
	<li><span class="incode">POST rest/v1/trades/</span></li>
	<li><span class="incode">PUT rest/v1/trades/{tradeId}</span></li>
	<li><span class="incode">GET rest/v1/trades/{tradeId}</span></li>
	<li><span class="incode">GET rest/v1/trades?{queryParameters}</span></li>
	<li><span class="incode">GET rest/v1/trades/</span></li>
	<li><span class="incode">DELETE rest/v1/trades/{tradeId}</span></li>
</ul>

<h3>Authorization</h3>
<ul>
	<li>All operations can be performed by clients with a valid <span class="incode">Authorization</span> header</li>
	<li><span class="incode">GET rest/v1/trades?{queryParameters}</span> can be performed by any client</li>
	<li><span class="incode">GET rest/v1/trades/</span> can be performed by any client</li>
</ul>

<h3>Resource</h3>
<table>
	<tr>
		<th>Property Name</th>
		<th>Format</th>
		<th>Description</th>
	</tr>
	<tr>
		<td>description</td>
		<td>read-write, 3 min length, 1000 max length</td>
		<td>The description of this trade</td>
	</tr>
	<tr>
		<td>name</td>
		<td>read-write, mandatory, unique, 3 min length, 150 max length</td>
		<td>The name of this trade</td>
	</tr>
	<tr>
		<td>state</td>
		<td>read-write, enumeration (see State Values table below)</td>
		<td>The state of this trade, states drive how to interact with the <span class="incode">Trade</span></td>
	</tr>
	<tr>
		<td>tradeId</td>
		<td>ready-only, auto-generated</td>
		<td>Id associated with this resource</td>
	</tr>
</table>

<h4>State Values</h4>
<table>
	<tr>
		<th>Value</th>
		<th>Description</th>
	</tr>
	<tr>
		<td>SUBMITTING_ARTICLES</td>
		<td>Default state when a <span class="incode">Trade</span> is created. Indicates that <a href='users.html'>Users</a> can join the <span class="incode">Trade</span> and submit <a href='articles.html'>Articles</a></td>
	</tr>
	<tr>
		<td>MATCHING_ARTICLES</td>
		<td><a href='users.html'>Users</a> can match <a href='articles.html'>Articles</a> in the trade. Other <a href='users.html'>users</a> cannot join the trade nor submit <a href='articles.html'>articles</a></td>
	</tr>
	<tr>
		<td>ARTICLES_MATCHED</td>
		<td><a href='articles.html'>Articles</a> are matched and results (TODO: add link to trade-results.html) can be generated.</td>
	</tr>
	<tr>
		<td>GENERATE_RESULTS</td>
		<td>Request the system to generate results (TODO: add link to trade-results.html) for the matched <a href='articles.html'>Articles</a>.</td>
	</tr>
	<tr>
		<td>RESULTS_GENERATED</td>
		<td>Results (TODO: add link to trade-results.html) are a available.</td>
	</tr>
	<tr>
		<td>CLOSED</td>
		<td>The <span class="incode">Trade</span> is in ready-only mode</td>
	</tr>
</table>

<h3>Query Parameters</h3>
<table>
	<tr>
		<th>Property Name</th>
		<th>Description</th>
	</tr>
	<tr>
		<td>_pageNumber</td>
		<td>See <a href='index.html#pagination'>pagination</a></td>
	</tr>
	<tr>
		<td>_pageSize</td>
		<td>See <a href='index.html#pagination'>pagination</a></td>
	</tr>
</table>


<h3>Rules</h3>
<ul>
	<li>When a new <span class="incode">Trade</span> is created, the <a href='users.html'>User</a> associated to the <span class="incode">Authorization</span> header becomes the <span class="incode">Trade</span> <i>organizer</i>.
	Hence the system creates a <span class="incode"><a href='memberships.html'>Membership.type=OWNER</a></span></li>
	<li>Only the trade <i>organizer</i> can <span class="incode">DELETE</span> a <span class="incode">Trade</span></li>
	<li>Only the trade <i>organizer</i> can <span class="incode">PUT</span> a <span class="incode">Trade</span></li>
</ul>

<h3>Examples</h3>
<p>
<div class="snippet">
  <div class="snippet-labels">
    <label for="snippet-content-79" onclick="onSnippetLabelClick(this)">Summary</label>
    <label for="snippet-content-80" onclick="onSnippetLabelClick(this)">Plain Text</label>
    <label for="snippet-content-81" onclick="onSnippetLabelClick(this)">curl</label>
  </div>
  <div id="snippet-content-79" class="snippet-content active">
    <pre>POST http://localhost:8080/matchandtrade-api/v1/trades/
HTTP/1.1 201 </pre>
  </div>
  <div id="snippet-content-80" class="snippet-content">
    <pre>POST http://localhost:8080/matchandtrade-api/v1/trades/
-- Headers --
   Authorization: 1975-2826-850
   Content-Type: application/json; charset=UTF-8
-- Body --
{
  "description" : "More information to come.",
  "name" : "Board games in Toronto - 1548517794318"
}
---- Response ----
HTTP/1.1 201 
-- Headers --
   Content-Type: application/json;charset=UTF-8
   Transfer-Encoding: chunked
   Date: Sat, 26 Jan 2019 15:49:53 GMT
-- Body --
{
  "description" : "More information to come.",
  "name" : "Board games in Toronto - 1548517794318",
  "tradeId" : 359,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/359"
  } ]
}</pre>
  </div>
  <div id="snippet-content-81" class="snippet-content">
    <pre>curl -v -X POST \
-H "Authorization: 1975-2826-850" \
-H "Content-Type: application/json; charset=UTF-8" \
-d "{\"description\":\"More information to come.\",\"name\":\"Board games in Toronto - 1548517794318\"}" \
http://localhost:8080/matchandtrade-api/v1/trades/

---- Response ----
HTTP/1.1 201 
-- Headers --
   Content-Type: application/json;charset=UTF-8
   Transfer-Encoding: chunked
   Date: Sat, 26 Jan 2019 15:49:53 GMT
-- Body --
{
  "description" : "More information to come.",
  "name" : "Board games in Toronto - 1548517794318",
  "tradeId" : 359,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/359"
  } ]
}</pre>
  </div>
</div>
</p>
<p>
<div class="snippet">
  <div class="snippet-labels">
    <label for="snippet-content-82" onclick="onSnippetLabelClick(this)">Summary</label>
    <label for="snippet-content-83" onclick="onSnippetLabelClick(this)">Plain Text</label>
    <label for="snippet-content-84" onclick="onSnippetLabelClick(this)">curl</label>
  </div>
  <div id="snippet-content-82" class="snippet-content active">
    <pre>PUT http://localhost:8080/matchandtrade-api/v1/trades/359
HTTP/1.1 200 </pre>
  </div>
  <div id="snippet-content-83" class="snippet-content">
    <pre>PUT http://localhost:8080/matchandtrade-api/v1/trades/359
-- Headers --
   Authorization: 1975-2826-850
   Content-Type: application/json; charset=UTF-8
-- Body --
{
  "description" : "More information to come.",
  "name" : "Board games in Toronto - 1548517794318 Updated",
  "state" : "GENERATE_RESULTS"
}
---- Response ----
HTTP/1.1 200 
-- Headers --
   Content-Type: application/json;charset=UTF-8
   Transfer-Encoding: chunked
   Date: Sat, 26 Jan 2019 15:49:53 GMT
-- Body --
{
  "description" : "More information to come.",
  "name" : "Board games in Toronto - 1548517794318 Updated",
  "tradeId" : 359,
  "state" : "GENERATE_RESULTS",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/359"
  } ]
}</pre>
  </div>
  <div id="snippet-content-84" class="snippet-content">
    <pre>curl -v -X PUT \
-H "Authorization: 1975-2826-850" \
-H "Content-Type: application/json; charset=UTF-8" \
-d "{\"description\":\"More information to come.\",\"name\":\"Board games in Toronto - 1548517794318 Updated\",\"state\":\"GENERATE_RESULTS\"}" \
http://localhost:8080/matchandtrade-api/v1/trades/359

---- Response ----
HTTP/1.1 200 
-- Headers --
   Content-Type: application/json;charset=UTF-8
   Transfer-Encoding: chunked
   Date: Sat, 26 Jan 2019 15:49:53 GMT
-- Body --
{
  "description" : "More information to come.",
  "name" : "Board games in Toronto - 1548517794318 Updated",
  "tradeId" : 359,
  "state" : "GENERATE_RESULTS",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/359"
  } ]
}</pre>
  </div>
</div>
</p>
<p>
<div class="snippet">
  <div class="snippet-labels">
    <label for="snippet-content-85" onclick="onSnippetLabelClick(this)">Summary</label>
    <label for="snippet-content-86" onclick="onSnippetLabelClick(this)">Plain Text</label>
    <label for="snippet-content-87" onclick="onSnippetLabelClick(this)">curl</label>
  </div>
  <div id="snippet-content-85" class="snippet-content active">
    <pre>GET http://localhost:8080/matchandtrade-api/v1/trades/359
HTTP/1.1 200 </pre>
  </div>
  <div id="snippet-content-86" class="snippet-content">
    <pre>GET http://localhost:8080/matchandtrade-api/v1/trades/359
-- Headers --
   Authorization: 1975-2826-850
   Content-Type: application/json; charset=UTF-8

---- Response ----
HTTP/1.1 200 
-- Headers --
   Content-Type: application/json;charset=UTF-8
   Transfer-Encoding: chunked
   Date: Sat, 26 Jan 2019 15:49:53 GMT
-- Body --
{
  "description" : "More information to come.",
  "name" : "Board games in Toronto - 1548517794318 Updated",
  "tradeId" : 359,
  "state" : "RESULTS_GENERATED",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/359"
  } ]
}</pre>
  </div>
  <div id="snippet-content-87" class="snippet-content">
    <pre>curl -v \
-H "Authorization: 1975-2826-850" \
-H "Content-Type: application/json; charset=UTF-8" \
http://localhost:8080/matchandtrade-api/v1/trades/359

---- Response ----
HTTP/1.1 200 
-- Headers --
   Content-Type: application/json;charset=UTF-8
   Transfer-Encoding: chunked
   Date: Sat, 26 Jan 2019 15:49:53 GMT
-- Body --
{
  "description" : "More information to come.",
  "name" : "Board games in Toronto - 1548517794318 Updated",
  "tradeId" : 359,
  "state" : "RESULTS_GENERATED",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/359"
  } ]
}</pre>
  </div>
</div>
</p>
<p>
<div class="snippet">
  <div class="snippet-labels">
    <label for="snippet-content-88" onclick="onSnippetLabelClick(this)">Summary</label>
    <label for="snippet-content-89" onclick="onSnippetLabelClick(this)">Plain Text</label>
    <label for="snippet-content-90" onclick="onSnippetLabelClick(this)">curl</label>
  </div>
  <div id="snippet-content-88" class="snippet-content active">
    <pre>GET http://localhost:8080/matchandtrade-api/v1/trades/?_pageNumber=2&_pageSize=2
HTTP/1.1 200 </pre>
  </div>
  <div id="snippet-content-89" class="snippet-content">
    <pre>GET http://localhost:8080/matchandtrade-api/v1/trades/?_pageNumber=2&_pageSize=2
-- Headers --
   Content-Type: application/json; charset=UTF-8

---- Response ----
HTTP/1.1 200 
-- Headers --
   X-Pagination-Total-Count: 193
   Link: <http://localhost:8080/matchandtrade-api/v1/trades/?_pageSize=2&_pageNumber=3>; rel="nextPage"
   Link: <http://localhost:8080/matchandtrade-api/v1/trades/?_pageSize=2&_pageNumber=1>; rel="previousPage"
   Content-Type: application/json;charset=UTF-8
   Transfer-Encoding: chunked
   Date: Sat, 26 Jan 2019 15:49:53 GMT
-- Body --
[ {
  "name" : "Board games in Brasilia - 1548517793892",
  "tradeId" : 357,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/357"
  } ]
}, {
  "name" : "Board games in Vancouver - 1548517793784",
  "tradeId" : 356,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/356"
  } ]
} ]</pre>
  </div>
  <div id="snippet-content-90" class="snippet-content">
    <pre>curl -v \
-H "Content-Type: application/json; charset=UTF-8" \
http://localhost:8080/matchandtrade-api/v1/trades/?_pageNumber=2\&_pageSize=2

---- Response ----
HTTP/1.1 200 
-- Headers --
   X-Pagination-Total-Count: 193
   Link: <http://localhost:8080/matchandtrade-api/v1/trades/?_pageSize=2&_pageNumber=3>; rel="nextPage"
   Link: <http://localhost:8080/matchandtrade-api/v1/trades/?_pageSize=2&_pageNumber=1>; rel="previousPage"
   Content-Type: application/json;charset=UTF-8
   Transfer-Encoding: chunked
   Date: Sat, 26 Jan 2019 15:49:53 GMT
-- Body --
[ {
  "name" : "Board games in Brasilia - 1548517793892",
  "tradeId" : 357,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/357"
  } ]
}, {
  "name" : "Board games in Vancouver - 1548517793784",
  "tradeId" : 356,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/356"
  } ]
} ]</pre>
  </div>
</div>
</p>
<p>
<div class="snippet">
  <div class="snippet-labels">
    <label for="snippet-content-91" onclick="onSnippetLabelClick(this)">Summary</label>
    <label for="snippet-content-92" onclick="onSnippetLabelClick(this)">Plain Text</label>
    <label for="snippet-content-93" onclick="onSnippetLabelClick(this)">curl</label>
  </div>
  <div id="snippet-content-91" class="snippet-content active">
    <pre>GET http://localhost:8080/matchandtrade-api/v1/trades/
HTTP/1.1 200 </pre>
  </div>
  <div id="snippet-content-92" class="snippet-content">
    <pre>GET http://localhost:8080/matchandtrade-api/v1/trades/
-- Headers --
   Content-Type: application/json; charset=UTF-8

---- Response ----
HTTP/1.1 200 
-- Headers --
   X-Pagination-Total-Count: 193
   Link: <http://localhost:8080/matchandtrade-api/v1/trades/?_pageNumber=2>; rel="nextPage"
   Content-Type: application/json;charset=UTF-8
   Transfer-Encoding: chunked
   Date: Sat, 26 Jan 2019 15:49:53 GMT
-- Body --
[ {
  "description" : "More information to come.",
  "name" : "Board games in Toronto - 1548517794318 Updated",
  "tradeId" : 359,
  "state" : "RESULTS_GENERATED",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/359"
  } ]
}, {
  "name" : "Trading books - 1548517794134",
  "tradeId" : 358,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/358"
  } ]
}, {
  "name" : "Board games in Brasilia - 1548517793892",
  "tradeId" : 357,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/357"
  } ]
}, {
  "name" : "Board games in Vancouver - 1548517793784",
  "tradeId" : 356,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/356"
  } ]
}, {
  "name" : "Books in Buffalo - 1548517793662",
  "tradeId" : 355,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/355"
  } ]
}, {
  "name" : "Books in Lima 1548517793630",
  "tradeId" : 354,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/354"
  } ]
}, {
  "name" : "Books in Paris 1548517793619",
  "tradeId" : 353,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/353"
  } ]
}, {
  "name" : "Books in Berlin 1548517793550",
  "tradeId" : 352,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/352"
  } ]
}, {
  "name" : "Board games in Toronto - 1548516340428",
  "tradeId" : 348,
  "state" : "RESULTS_GENERATED",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/348"
  } ]
}, {
  "name" : "Board games in Montreal - 1548516340085",
  "tradeId" : 347,
  "state" : "RESULTS_GENERATED",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/347"
  } ]
} ]</pre>
  </div>
  <div id="snippet-content-93" class="snippet-content">
    <pre>curl -v \
-H "Content-Type: application/json; charset=UTF-8" \
http://localhost:8080/matchandtrade-api/v1/trades/

---- Response ----
HTTP/1.1 200 
-- Headers --
   X-Pagination-Total-Count: 193
   Link: <http://localhost:8080/matchandtrade-api/v1/trades/?_pageNumber=2>; rel="nextPage"
   Content-Type: application/json;charset=UTF-8
   Transfer-Encoding: chunked
   Date: Sat, 26 Jan 2019 15:49:53 GMT
-- Body --
[ {
  "description" : "More information to come.",
  "name" : "Board games in Toronto - 1548517794318 Updated",
  "tradeId" : 359,
  "state" : "RESULTS_GENERATED",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/359"
  } ]
}, {
  "name" : "Trading books - 1548517794134",
  "tradeId" : 358,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/358"
  } ]
}, {
  "name" : "Board games in Brasilia - 1548517793892",
  "tradeId" : 357,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/357"
  } ]
}, {
  "name" : "Board games in Vancouver - 1548517793784",
  "tradeId" : 356,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/356"
  } ]
}, {
  "name" : "Books in Buffalo - 1548517793662",
  "tradeId" : 355,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/355"
  } ]
}, {
  "name" : "Books in Lima 1548517793630",
  "tradeId" : 354,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/354"
  } ]
}, {
  "name" : "Books in Paris 1548517793619",
  "tradeId" : 353,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/353"
  } ]
}, {
  "name" : "Books in Berlin 1548517793550",
  "tradeId" : 352,
  "state" : "SUBMITTING_ARTICLES",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/352"
  } ]
}, {
  "name" : "Board games in Toronto - 1548516340428",
  "tradeId" : 348,
  "state" : "RESULTS_GENERATED",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/348"
  } ]
}, {
  "name" : "Board games in Montreal - 1548516340085",
  "tradeId" : 347,
  "state" : "RESULTS_GENERATED",
  "_links" : [ {
    "self" : "http://localhost:8080/matchandtrade-api/v1/trades/347"
  } ]
} ]</pre>
  </div>
</div>
</p>
<p>
<div class="snippet">
  <div class="snippet-labels">
    <label for="snippet-content-94" onclick="onSnippetLabelClick(this)">Summary</label>
    <label for="snippet-content-95" onclick="onSnippetLabelClick(this)">Plain Text</label>
    <label for="snippet-content-96" onclick="onSnippetLabelClick(this)">curl</label>
  </div>
  <div id="snippet-content-94" class="snippet-content active">
    <pre>DELETE http://localhost:8080/matchandtrade-api/v1/trades/359
HTTP/1.1 204 </pre>
  </div>
  <div id="snippet-content-95" class="snippet-content">
    <pre>DELETE http://localhost:8080/matchandtrade-api/v1/trades/359
-- Headers --
   Authorization: 1975-2826-850

---- Response ----
HTTP/1.1 204 
-- Headers --
   Date: Sat, 26 Jan 2019 15:49:53 GMT
-- Body --
</pre>
  </div>
  <div id="snippet-content-96" class="snippet-content">
    <pre>curl -v -X DELETE \
-H "Authorization: 1975-2826-850" \
http://localhost:8080/matchandtrade-api/v1/trades/359

---- Response ----
HTTP/1.1 204 
-- Headers --
   Date: Sat, 26 Jan 2019 15:49:53 GMT
-- Body --
</pre>
  </div>
</div>
</p></body>
</html>
