<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Match and Trade - Documentation</title>

<link rel='stylesheet' href='css/matchandtrade-doc-style.css'>

<script>
function openTab(evt, tabId) {
    var i, tabcontent, tablinks;
   	var tabIdEnding = tabId.substring(tabId.length-2);

   	tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
    	if (tabcontent[i].id.endsWith(tabIdEnding)) {
        	tabcontent[i].style.display = "none";
    	}
    }

    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
    	if (tablinks[i].id.endsWith(tabIdEnding)) {
        	tablinks[i].className = tablinks[i].className.replace(" active", "");
    	}
    }
	
    document.getElementById(tabId).style.display = "block";
    evt.currentTarget.className += " active";
}

function openTabById(tabLinkId, tabId) {
    document.getElementById(tabId).style.display = "block";
    document.getElementById(tabId).className += " active";

    document.getElementById(tabLinkId).className += " active";
}

</script>
</head>
<body>
<h1>Development Guide</h1>
<p>This guide provides detailed information for those who want to develop and/or customize the application.</p>

<h2>Technology Stack</h2>
<ul>
	<li>Java JDK</li>
	<li>Spring Boot</li>
	<li>RESTful Service</li>
	<li>Maven</li>
	<li>Angular 2</li>
</ul>

<h3>Requirements</h3>
<ul>
	<li>Java JDK version 8 or higher</li>
	<li>Maven</li>
</ul>

<p>Clone the source code:</p>
<div class='code'>git clone https://github.com/rafasantos/matchandtrade.git</div>

<p>Build the source code. The files will be generated on the <span class='incode'>/target</span> folder:</p>
<div class='code'>mvn package</div>

<p>Start the RESTful web server:</p>
<div class='code'>java -jar /target/webservice-0.0.1-SNAPSHOT.jar</div>

<h2>Build and Run</h2>

<p>Build and run the website using maven directly:</p>
<div class='code'>mvn spring-boot:run</div>

<p>Run unit tests:</p>
<div class='code'>mvn test</div>

<p>Run integration tests (including unit tests):</p>
<div class='code'>mvn verify</div>

<p>Run only the integration test (excluding unit tests):</p>
<div class='code'>mvn test-compile failsafe:integration-test</div>

<p>Generate maven web site. Files will be generated at `/target/site`:</p>
<div class='code'>mvn site</div>

<p>You can change the logging level with the property `logging.level.root=DESIRED_LOGGING_LEVEL` or changing the `logback.xml`.<br>
Examples</p>

<div class='code'>mvn spring-boot:run -Dlogging.level.root=debug
mvn test -Dlogging.level.root=debug
java -jar /target/webservice-0.0.1-SNAPSHOT.jar -Dlogging.level.root=debug
</div>

<h2>Spring MVC for Rest</h2>

<p>Checkout the <a href='http://shengwangi.blogspot.ca/2016/02/response-for-get-post-put-delete-in-rest.html'>Response for GET/POST/PUT/DELETE in REST web service</a> tutorial to get started with Spring MVC geared towards RESTful applications.K</p>

<h2>Unit Test and Integration Test</h2>

<p>Unit tests and integration tests are executed via `mvn` and configured with the maven plugins `maven-surefire-plugin` and `maven-failsafe-plugin` respectively.</p>

<p>Run the unit tests with the command `mvn test` and the integration tests with the command `mvn verify`.</p>

<h3>Writing Unit Test and Integration Test</h3>
<p>As mentioned on the *Unit Test and Integration Test* section, use `mvn test` to run unit tests and `mvn verify` to run integration tests.</p>

<p>Unit tests should be placed on the folder `src/test/*` must be atomic (does not depend on anything to run) and executed in any order. The file name also needs to end on `*UT.java`. Look at the file `src/test/java/com/matchandtrade/authentication/AuthenticationServletUT.java` for an example.</p>

<p>Integration tests are also placed on `src/test/*` and may not be atomic (depending on environment or other components) and must be executed within a test suite. The test suite file name needs to end on `*Suite.java` while the integration test needs to end on `*IT.java`. Look at the file `src/test/java/com/matchandtrade/rest/v1/controller/UserControllerSuite.java` for an example.</p>

<p>To run one single unit test use `mvn -Dtest=TEST_NAME verify`. To run one singe integration test use `mvn -Dit.test=INTEGRATION_TEST_NAME verify`. See maven <a href='https://maven.apache.org/surefire/maven-surefire-plugin/examples/single-test.html'>surefire</a> and <a href='https://maven.apache.org/surefire/maven-failsafe-plugin/examples/single-test.html'>failsafe</a> pulgins documentation.</p> 


<h2>Maven Site</h2>
<p>Maven is also capable to generate a very useful site which describing the project dependency tree, license, plugins, and testing reports.</p>

<p>To generate the maven site you need to issue the command `mvn site`. Open the file `target/site/index.xml` with your web-browser.</p>
</body>
</html>
