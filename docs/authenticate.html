<html><head><title>REST Doc Maker</title></head>
<link rel='stylesheet' href='css/rest-api-doc.css'><script src='js/rest-api-doc.js'></script><body>
<h1>Authenticate</h1>
<p>
	<i>Endpoint</i> to authenticate on the system.
	It redirects the client to an oAuth server (e.g.: Google oAuth) and returns with a header called <span class='incode'>Authorization</span>.
	Additionally, it creates a <span class='incode'>Cookie: MTSESSION</span> allowing requests to <span class='incode'>authenticate/info</span> which also returns the <span class='incode'>Authorization</span> header.
</p>

<p>
The <span class='incode'>Authorization</span> header acts as a session token and needs to be included to any URL witch requires authorization.
</p>

<h3>Operations</h3>
<ul>
	<li><span class='incode'>GET authenticate</span></li>
	<li><span class='incode'>GET authenticate/info</span></li>
	<li><span class='incode'>GET authenticate/sign-out</span></li>
</ul>

<h3>Authorization</h3>
<ul>
	<li>Public endpoints: <span class='incode'>authenticate</span> and <span class='incode'>authenticate/sing-out</span></li>
	<li>Only requests containing <span class='incode'>Cookie: MTSESSION</span> are authorized to access <span class='incode'>authenticate/info</span></li>
</ul>

<h3>Examples</h3>
<p>
<div class="snippet">
  <div class="snippet-labels">
    <label for="snippet-content-28" onclick="onSnippetLabelClick(this)">Summary</label>
    <label for="snippet-content-29" onclick="onSnippetLabelClick(this)">Plain Text</label>
    <label for="snippet-content-30" onclick="onSnippetLabelClick(this)">curl</label>
  </div>
  <div id="snippet-content-28" class="snippet-content active">
    <pre>GET http://localhost:8080/matchandtrade-api/v1/authenticate
HTTP/1.1 200 </pre>
  </div>
  <div id="snippet-content-29" class="snippet-content">
    <pre>GET http://localhost:8080/matchandtrade-api/v1/authenticate

---- Response ----
HTTP/1.1 200 
-- Headers --
   Authorization: 5283-637-2674
   Set-Cookie: MTSESSION=DC9D52A6C394AA7C6EF217A22EB9CF2C; Path=/; HttpOnly
   Content-Length: 0
   Date: Sat, 26 Jan 2019 15:49:52 GMT
-- Body --
</pre>
  </div>
  <div id="snippet-content-30" class="snippet-content">
    <pre>curl -v \
http://localhost:8080/matchandtrade-api/v1/authenticate

---- Response ----
HTTP/1.1 200 
-- Headers --
   Authorization: 5283-637-2674
   Set-Cookie: MTSESSION=DC9D52A6C394AA7C6EF217A22EB9CF2C; Path=/; HttpOnly
   Content-Length: 0
   Date: Sat, 26 Jan 2019 15:49:52 GMT
-- Body --
</pre>
  </div>
</div>
</p>
<p>
<div class="snippet">
  <div class="snippet-labels">
    <label for="snippet-content-31" onclick="onSnippetLabelClick(this)">Summary</label>
    <label for="snippet-content-32" onclick="onSnippetLabelClick(this)">Plain Text</label>
    <label for="snippet-content-33" onclick="onSnippetLabelClick(this)">curl</label>
  </div>
  <div id="snippet-content-31" class="snippet-content active">
    <pre>GET http://localhost:8080/matchandtrade-api/v1/authenticate/info
HTTP/1.1 200 </pre>
  </div>
  <div id="snippet-content-32" class="snippet-content">
    <pre>GET http://localhost:8080/matchandtrade-api/v1/authenticate/info
-- Headers --
   cookie: MTSESSION=DC9D52A6C394AA7C6EF217A22EB9CF2C; Path=/; HttpOnly

---- Response ----
HTTP/1.1 200 
-- Headers --
   Content-Type: application/json;charset=UTF-8
   Content-Length: 46
   Date: Sat, 26 Jan 2019 15:49:52 GMT
-- Body --
{
  "authorizationHeader" : "5283-637-2674"
}</pre>
  </div>
  <div id="snippet-content-33" class="snippet-content">
    <pre>curl -v \
-H "cookie: MTSESSION=DC9D52A6C394AA7C6EF217A22EB9CF2C; Path=/; HttpOnly" \
http://localhost:8080/matchandtrade-api/v1/authenticate/info

---- Response ----
HTTP/1.1 200 
-- Headers --
   Content-Type: application/json;charset=UTF-8
   Content-Length: 46
   Date: Sat, 26 Jan 2019 15:49:52 GMT
-- Body --
{
  "authorizationHeader" : "5283-637-2674"
}</pre>
  </div>
</div>
</p>
<p>
<div class="snippet">
  <div class="snippet-labels">
    <label for="snippet-content-34" onclick="onSnippetLabelClick(this)">Summary</label>
    <label for="snippet-content-35" onclick="onSnippetLabelClick(this)">Plain Text</label>
    <label for="snippet-content-36" onclick="onSnippetLabelClick(this)">curl</label>
  </div>
  <div id="snippet-content-34" class="snippet-content active">
    <pre>GET http://localhost:8080/matchandtrade-api/v1/authenticate/sign-off
HTTP/1.1 205 </pre>
  </div>
  <div id="snippet-content-35" class="snippet-content">
    <pre>GET http://localhost:8080/matchandtrade-api/v1/authenticate/sign-off
-- Headers --
   Authorization: 7718-5469-3876

---- Response ----
HTTP/1.1 205 
-- Headers --
   Set-Cookie: MTSESSION=95818BCFEFAE986B2A69AC650FBEC029; Path=/; HttpOnly
   Content-Length: 0
   Date: Sat, 26 Jan 2019 15:49:52 GMT
-- Body --
</pre>
  </div>
  <div id="snippet-content-36" class="snippet-content">
    <pre>curl -v \
-H "Authorization: 7718-5469-3876" \
http://localhost:8080/matchandtrade-api/v1/authenticate/sign-off

---- Response ----
HTTP/1.1 205 
-- Headers --
   Set-Cookie: MTSESSION=95818BCFEFAE986B2A69AC650FBEC029; Path=/; HttpOnly
   Content-Length: 0
   Date: Sat, 26 Jan 2019 15:49:52 GMT
-- Body --
</pre>
  </div>
</div>
</p></body>
</html>
